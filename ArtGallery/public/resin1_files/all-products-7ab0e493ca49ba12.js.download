(self.webpackChunkSmartBizCoreApp=self.webpackChunkSmartBizCoreApp||[]).push([[2955],{20053:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[store_uri]/all-products",function(){return r(86202)}])},10989:function(t,e,r){"use strict";r.d(e,{RV:function(){return c},kd:function(){return o},qO:function(){return n}});let n={PDP_ABANDON:"PDP_ABANDONED",STORE_ABANDON:"STORE_ABANDONED",CART_ABANDON:"CART_ABANDONED",PAYMENT_ABANDON:"PAYMENT_ABANDONED"},o={HOME_PAGE:"HOME_PAGE",P_D_P:"PDP_PAGE",CATEGORY_PRODUCTS:"CATEGORIES_PAGE",COLLECTION_PRODUCTS:"COLLECTIONS_PAGE",SEARCH_PRODUCTS:"PRODUCT_SEARCH",FEATURED_PRODUCTS:"FEATURED_PRODUCTS_PAGE",ALL_PRODUCTS:"ALL_PRODUCTS_PAGE"},c={STREAM_NAME:"ConstellationEventsManager-Stream",PARTITION_KEY:"".concat(Date.now())}},60499:function(t,e,r){"use strict";r.d(e,{B:function(){return E}});var n,o,c=r(73884),a=r(10297);(n=o||(o={})).DEFAULT="DEFAULT",n.NIRA="NIRA",n.FLORENCE="FLORENCE";class i{static initialize(){i.instance||(i.instance=new Map([["DEFAULT","themeDefault"],["NIRA","themeNira"],["FLORENCE","themeFlorence"]]))}static normalizeTheme(t){return o[t.toUpperCase()]||"DEFAULT"}static get(t){i.initialize();let e=i.normalizeTheme(t);return i.instance.get(e)||"themeDefault"}}let u=async(t,e)=>{try{let n=window[t];if(!n){console.warn("Remote container ".concat(t," not found"));return}await n.init(r.S.default),await n.get("./".concat(e))}catch(r){console.error("Error prefetching ./".concat(e," from ").concat(t,":"),r)}},s=async(t,e)=>{try{t.forEach(t=>{e.prefetch(t)})}catch(t){console.error("Error prefetching product URLs:",t)}};var l=r(48935);let E=t=>{let{storeUri:e,baseTemplateId:r}=t,n=(0,a.useRouter)(),[o,E]=(0,c.useState)(!1),[A,f]=(0,c.useState)(null);return(0,c.useEffect)(()=>{let t=["/".concat(e),"/".concat(e,"/best-sellers"),"/".concat(e,"/product/123"),"/".concat(e,"/all-products"),"/".concat(e,"/category/123/ABC"),"/".concat(e,"/collection/123/ABC")],o=n.asPath,c=t.filter(t=>t!==o),a=()=>{let n={["/".concat(e)]:l.K.HOME,["/".concat(e,"/best-sellers")]:l.K.FEATURED_PRODUCTS,["/".concat(e,"/product/123")]:l.K.PRODUCT_DETAILS_PAGE,["/".concat(e,"/all-products")]:l.K.ALL_PRODUCTS,["/".concat(e,"/category/123/ABC")]:l.K.CATEGORIES_PRODUCTS_LISTING,["/".concat(e,"/collection/123/ABC")]:l.K.COLLECTION_PRODUCTS_LISTING};return t.filter(t=>t!==o).map(t=>n[t]).filter(t=>void 0!==t).map(t=>u(i.get(r),t))};(async()=>{E(!0),f(null);try{await s(c,n),await Promise.all(a())}catch(t){console.error("Error during prefetch:",t),f(t instanceof Error?t:Error("Prefetch failed"))}finally{E(!1)}})()},[n,e,r]),{isPrefetching:o,error:A}}},58551:function(t,e,r){"use strict";r.d(e,{L:function(){return u}});var n=r(10989),o=r(65665);let{STREAM_NAME:c,PARTITION_KEY:a}=n.RV,i=async(t,e,r,n,o)=>{try{r.wabaEventCaptureStore.wabaCaptureEvent(c,t,e,n,o,a)}catch(t){console.error("Error fetching customer details: ",t)}},u=async(t,e,r)=>{var n,c;let a=null===(n=t.wabaEventCaptureStore)||void 0===n?void 0:n.customerId,s=null===(c=t.rangoliContext)||void 0===c?void 0:c.shopId;if(a)(0,o.zV)({id:a,storeUri:s}),i(s,a,t,e,r);else{let n=await t.wabaEventCaptureStore.getCustomerDetailsData(s);(0,o.zV)({id:n.customerId,storeUri:s}),n&&u(t,e,r)}}},86202:function(t,e,r){"use strict";r.r(e),r.d(e,{__N_SSP:function(){return _},default:function(){return C}});var n=r(58775),o=r(73884),c=r(48935),a=r(30130),i=r(58551),u=r(10989),s=r(10297),l=r(60499),E=r(19148),A=r(89527),f=r(39618),_=!0;function C(t){(0,s.useRouter)();let e=(0,a.useRootStore)().themeStore.themeConfig,r=(0,a.useRootStore)(),{STORE_ABANDON:_}=u.qO,{ALL_PRODUCTS:C}=u.kd;(0,o.useEffect)(()=>{(0,a.isLoggedIn)()&&(0,i.L)(r,_,C)});let{error:T}=(0,l.B)({storeUri:t.storeUri,baseTemplateId:e.baseTemplateId});return T&&E.A.error("Prefetch error:",T),(0,n.jsx)(f.A,{themes:A.BD[e.baseTemplateId],module:c.K.ALL_PRODUCTS})}}},function(t){_N_E=Promise.all([t.f.consumes||function(t,e){},t.f.remotes||function(t,e){}].reduce(function(t,e){return e("2955",t),t},[])).then(function(){return t.X(0,[636,8792],function(){return t(t.s=20053)})})}]);